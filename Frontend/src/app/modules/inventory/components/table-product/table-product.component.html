<div>
  <div>
    <form [formGroup]="form" action="">
      <div class="row">
        <div class="col-2">
          <mat-form-field style="width: 100%;" class="example-full-width">
            <mat-label>Nombre</mat-label>
            <input formControlName="nombre" matInput placeholder="Nombre">
          </mat-form-field>
        </div>
        <div class="col-2">
          <mat-form-field style="width: 100%;">
            <mat-label>Precio</mat-label>
            <input formControlName="precio" type="number" matInput placeholder="Precio">
          </mat-form-field>
        </div>
        <div class="col-2">
          <mat-form-field style="width: 100%;">
            <mat-select formControlName="marca" placeholder="Marcas">
              <mat-option *ngFor="let e of marcas" [value]="e.name">
                {{e.name}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div class="col-2">
          <mat-form-field style="width: 100%;">
            <mat-label>Activo</mat-label>
            <mat-select formControlName="activo">
              <mat-option [value]="true">
                Activo
              </mat-option>
              <mat-option [value]="false">
                Inactivo
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-1">
          <button (click)="aplicarFiltros()" mat-raised-button color="primary" style="width: 100%; height: 55px;">
            <h6 class="mt-2">Buscar</h6>
          </button>
        </div>
        <div class="col-1">
          <button routerLink="/panel/product/register-brand" mat-raised-button color="primary" style="width: 100%; height: 55px;">
            <h6 class="mt-2">Registrar Marcas</h6>
          </button>
        </div>
        <div class="col-2">
          <button (click)="abrirModalRegistro()" mat-raised-button color="primary" style="width: 100%; height: 55px;">
            <h6 class="mt-2">Registrar</h6>
          </button>
        </div>
      </div>
    </form>
  </div>
  <div class="mat-elevation-z4" style="width: 100%; border-radius: 10px;">

    <table mat-table [dataSource]="dataSource" style=" width: 100%; ">


      <ng-container matColumnDef="nombre">
        <th mat-header-cell *matHeaderCellDef>
          Nombre
        </th>
        <td mat-cell *matCellDef="let element">{{element.nombre}}</td>
      </ng-container>

      <ng-container matColumnDef="descripcion">
        <th mat-header-cell *matHeaderCellDef>
          Descripcion
        </th>
        <td mat-cell *matCellDef="let element">{{element.descripcion}}</td>
      </ng-container>

      <ng-container matColumnDef="precio">
        <th mat-header-cell *matHeaderCellDef>
          Precio
        </th>
        <td mat-cell *matCellDef="let element">{{element.precio}}</td>
      </ng-container>
      <ng-container matColumnDef="marca">
        <th mat-header-cell *matHeaderCellDef>
          Marca
        </th>
        <td mat-cell *matCellDef="let element">{{element.marca}}</td>
      </ng-container>
      <ng-container matColumnDef="stock">
        <th mat-header-cell *matHeaderCellDef>
          Stock
        </th>
        <td mat-cell *matCellDef="let element">{{element.stock}}</td>
      </ng-container>

      <ng-container matColumnDef="activo">
        <th mat-header-cell *matHeaderCellDef>
          Activo
        </th>
        <td mat-cell *matCellDef="let element">
          <mat-slide-toggle (change)="activarDesactivar(
            element.id,
            element.activo
          )" color="primary" [checked]="element.activo"></mat-slide-toggle>
        </td>
      </ng-container>


      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>
          Acciones
        </th>
        <td mat-cell *matCellDef="let element">
          <button mat-raised-button class="me-3 mb-1" color="primary" (click)="abrirModalRegistroEdicion(element)">Editar</button>
          <button mat-raised-button color="warn">Eliminar</button>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
    <mat-paginator class="mt-4" style="border-radius: 5px; " [pageSizeOptions]="[10,15,20]"
      showFirstLastButtons></mat-paginator>
  </div>
</div>