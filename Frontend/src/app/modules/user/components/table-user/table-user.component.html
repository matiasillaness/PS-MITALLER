<div class="m-4">

    <div>
      <form action="" [formGroup]="form">
        <div class="row">
            <div class="col-2">
                <mat-form-field style="width: 100%;" class="example-full-width">
                    <mat-label>Nombre Completo</mat-label>
                    <input formControlName="nombre" matInput placeholder="Nombre">
                </mat-form-field>
            </div>
            <div class="col-2">
                <mat-form-field style="width: 100%;">
                    <mat-label>Email</mat-label>
                    <input formControlName="email" matInput placeholder="Email">
                </mat-form-field>
            </div>
            <div class="col-2">
                <mat-form-field style="width: 100%;">
                    <mat-label>Telefono</mat-label>
                    <input formControlName="telefono" matInput placeholder="Telefono">
                </mat-form-field>
            </div>
    
            <div class="col-2">
                <mat-form-field style="width: 100%;">                
                    <mat-label>Activo</mat-label>
                    <mat-select formControlName="activo">
                      <mat-option [value]="true">
                        Activo
                      </mat-option>
                        <mat-option [value]="false">
                            Inactivo
                        </mat-option>
                    </mat-select>
                  </mat-form-field>
            </div>
            
            <div class="col-2">
                <mat-form-field style="width: 100%;">                
                    <mat-label>Rol</mat-label>
                    <mat-select formControlName="rol">
                      <mat-option *ngFor="let m of roles" [value]="m.value">
                        {{m.label}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
            </div>
            <div class="col-1">
                <button mat-raised-button (click)="aplicarFiltros()" color="primary" style="width: 100%; height: 55px;">
                    <h6 class="mt-2">Buscar 
                        
                    </h6>
                  </button>
            </div>
            <div class="col-1">
           
                <button (click)="abrirModalRegistrarUsuario()" mat-raised-button color="primary" style="width: 100%; height: 55px;">
                    <h6 class="mt-2">Registrar</h6>
                  </button>
            </div>
        </div>
    </form>
          
    </div>

    <div  class="mat-elevation-z4" style="width: 100%; border-radius: 10px;">
  
        <table mat-table [dataSource]="dataSource" style=" width: 100%; ">
         
    
          <ng-container matColumnDef="nombre">
            <th mat-header-cell *matHeaderCellDef >
              Nombre
            </th>
            <td mat-cell *matCellDef="let element">{{element.nombre  | lowerCaseFirstUpper}}</td>
          </ng-container>

          <ng-container matColumnDef="apellido">
            <th mat-header-cell *matHeaderCellDef >
             Apellido
            </th>
            <td mat-cell *matCellDef="let element">{{element.apellido  | lowerCaseFirstUpper}}</td>
          </ng-container>
         
          <ng-container matColumnDef="email">
              <th mat-header-cell *matHeaderCellDef >
                Email
              </th>
              <td mat-cell *matCellDef="let element">{{element.email}}</td>
            </ng-container>
            <ng-container matColumnDef="telefono">
              <th mat-header-cell *matHeaderCellDef >
                Telefono
              </th>
              <td mat-cell *matCellDef="let element">{{element.telefono}}</td>
            </ng-container>
            <ng-container matColumnDef="direccion">
              <th mat-header-cell *matHeaderCellDef >
                Direccion
              </th>
              <td mat-cell *matCellDef="let element">{{element.direccion}}</td>
            </ng-container>
            <ng-container matColumnDef="rol">
              <th mat-header-cell *matHeaderCellDef >
                Rol
              </th>
              <td mat-cell *matCellDef="let element">{{element.role}}</td>
            </ng-container>
       
          <ng-container matColumnDef="activo">
            <th mat-header-cell *matHeaderCellDef>
              Activo
            </th>
            <td  mat-cell *matCellDef="let element">
              <mat-slide-toggle (change)="activarODesactivar(element.activo,element.email)" color="primary" [checked]="element.activo"></mat-slide-toggle>
            </td>
          </ng-container>
  
    
          <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef>
              Acciones
            </th>
            <td mat-cell *matCellDef="let element">
              <button (click)="abrirModalEditarUsuario(element.email, element)" mat-raised-button class="me-3 mb-1" color="primary">Editar</button>
              <button mat-raised-button color="warn">Eliminar</button>
            </td>
            <td mat-cell *matCellDef="let element">
              <button (click)="abrirModalMails()" mat-raised-button class="me-3 mb-1" color="primary">Editar</button>
              <button mat-raised-button color="warn">Eliminar</button>
            </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
        <mat-paginator class="mt-4" style="border-radius: 5px; " (page)="cambioDePagina($event)" [pageSizeOptions]="[10,15,20]" showFirstLastButtons></mat-paginator>
      </div>
</div>
